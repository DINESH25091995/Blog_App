{% extends "base.html" %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', path='css/styles_profile.css') }}">

<div class="profile-container">
    <!-- Welcome Section -->
    <div class="welcome-section">
        <h1>üëã Welcome, {{ user.username }}!</h1>
        <p class="subtitle">What would you like to do today?</p>
    </div>

    <!-- Actions Section -->
    <div class="actions-section">
        <div class="card">
            <a href="/blogs/">
                <h3>üìö View Blogs</h3>
                <p>Browse all available blogs.</p>
            </a>
        </div>
        <div class="card">
            <a href="/blogs/create">
                <h3>üìù Create Blog</h3>
                <p>Start writing your own blog.</p>
            </a>
        </div>
        <div class="card">
            <a href="/shops/">
                <h3>üè™ View Shops</h3>
                <p>Explore all available shops.</p>
            </a>
        </div>
        <div class="card">
            <a href="/shops/create">
                <h3>‚ûï Create Shop</h3>
                <p>Open a new shop and manage services.</p>
            </a>
        </div>
        <div class="card">
                <a href="/auth/logout">
                    <h3>Log Out</h3>
                </a>
        </div>
    </div>



    
    <!-- Appointments Section -->
    <div class="appointments-section">
        <h2>üìÖ List of Appointments</h2>
        <table style="border-collapse: collapse; width: 70%;" border="1">
            <thead>
                <tr>
                    <th>Shop Name</th>
                    <th>Worker Name</th>
                    <th>Booking Time</th>
                    <th>Date</th>
                    <th>Time</th>
                    <th>Services</th>
                   
                </tr>
            </thead>
            <tbody>
                {% for app in appointments %}
                    <tr>
                        <td>{{app.shop.shop_name}}</td>
                        <td>{{ app.worker.user.username }}</td>
                        <td>{{ app.created_at.strftime('%Y-%m-%d %H:%M:%S') }}</td>
                        <td>{{ app.date }}</td>
                        <td>{{ app.time }}</td>
                        <td>
                            <ul>
                                {% for service in app.services %}
                                    <li>‚úÖ {{ service.name }}</li>
                                {% endfor %}
                            </ul>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
            
    </div>




    <!-- User's Blogs Section -->
    <div class="blogs-section">
        <h2>‚úçÔ∏è Blogs Created by {{ user.username }}</h2>
        {% include "list_of_blog.html" %}
    </div>
</div>
{% endblock %}
